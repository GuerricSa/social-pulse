<%# ce bloc contient la photo %>
<div id="user-show-avatar" style="background-image: url('<%= cl_image_path @user.avatar.key, crop: :fill %>')"></div>

<div id="user-show" class="mb-5 ms-2 me-2">
  <%# ce bloc contient nom et age à gauche + les boutons 'suivre' et 'signaler' %>
  <div class="d-flex align-items-center justify-content-between pb-2 pt-2">
    <div class="d-flex name-age_user">
      <h3><%= @user.first_name %> • <%= @user.age %> ans</h3>
      </div>
    <div class="d-flex">
      <div class="purple-btn me-4" data-action="click->friends#follow"
          data-friends-target="followBtn">Suivre
      </div>
      <div id="report-btn" data-action="click->friends#report">
        <i class="fa-solid fa-triangle-exclamation"></i> Signaler
      </div>
    </div>
  </div>
  <div class="border-bottom pb-2 pt-2">
  <p class="text-wrap"><i class="fa-solid fa-quote-left"></i> <%= @user.presentation %> <i class="fa-solid fa-quote-right"></i></p>
  </div>

  <%# ce bloc contient les stats de l'utilisateur %>
  <div class="d-flex border-bottom pb-2 pt-2">
    <p><i class="fa-solid fa-chart-line" style="color: #614BF2;"></i> <%= @user.first_name %> a déjà proposé <%= @user.activities.size %> <%= @user.activities.size >=2 ? "activité".plural : "activité" %> et a participé à <%= @user.registrations.size %> <%= @user.registrations.size >=2 ? "activité".plural : "activité" %> !</p>
  </div>

  <%# ce bloc contient les activités proposées par l'user %>
  <h3 class="pt-2">Activités proposées</h3>
  <% if @user.activities.size.zero? %>
    <p><%= @user.first_name %> ne propose aucune activité en ce moment</p>
    <% else %>
    <%# afficher les cartes %>
    <div class="cards">
      <% @user.activities.each do |activity| %>
        <%= render "layouts/card_activity", activity: activity %>
      <% end %>
    </div>
  <% end %>
</div>
